@model Housematica.Intranet.ViewModel.ProjectsViewModel

<div class="col-xl-4" data-item="project_@Model.IdProject"
     @if (Model.IsActive == true) { } else { <text> style="opacity: 0.5" ;</text>
                    }>
    <!--begin::Card-->
    <div class="card card-custom gutter-b card-stretch ribbon ribbon-right">

        @if (Model.IsActive == true)
        {
        }
        else
        {
            <text> <div class="ribbon-target bg-danger" style="top: 22px; right: -2px;">Nieaktywne</div></text>
        }


        <!--begin::Body-->
        <div class="card-body">
            <!--begin::Section-->
            <div class="d-flex align-items-center">
                <!--begin::Pic-->
                <div class="symbol symbol-success mr-3">
                    <span class="symbol-label font-size-h5" style="background-color:#3246d3">@Model.ProjectName.Substring(0, 2).ToUpper()</span>
                </div>
                <!--end::Pic-->
                <!--begin::Info-->
                <div class="d-flex flex-column mr-auto">
                    <!--begin: Title-->
                    <a href="#" class="card-title text-hover-primary font-weight-bolder font-size-h5 text-dark mb-1">
                        @if (Model.IsActive == true)
                        {
                            @Model.ProjectName


                            if (Model.IsValidate == true)
                            {

                                <span class="svg-icon svg-icon-success svg-icon-2x" data-container="body" data-toggle="tooltip" data-placement="right" title="Projekt zweryfikowany">
                                    <!--begin::Svg Icon | path:C:\wamp64\www\keenthemes\themes\metronic\theme\html\demo6\dist/../src/media/svg/icons\General\Shield-check.svg--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="24px" height="24px" viewBox="0 0 24 24" version="1.1">
                                        <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
                                            <rect x="0" y="0" width="24" height="24" />
                                            <path d="M4,4 L11.6314229,2.5691082 C11.8750185,2.52343403 12.1249815,2.52343403 12.3685771,2.5691082 L20,4 L20,13.2830094 C20,16.2173861 18.4883464,18.9447835 16,20.5 L12.5299989,22.6687507 C12.2057287,22.8714196 11.7942713,22.8714196 11.4700011,22.6687507 L8,20.5 C5.51165358,18.9447835 4,16.2173861 4,13.2830094 L4,4 Z" fill="#000000" opacity="0.3" />
                                            <path d="M11.1750002,14.75 C10.9354169,14.75 10.6958335,14.6541667 10.5041669,14.4625 L8.58750019,12.5458333 C8.20416686,12.1625 8.20416686,11.5875 8.58750019,11.2041667 C8.97083352,10.8208333 9.59375019,10.8208333 9.92916686,11.2041667 L11.1750002,12.45 L14.3375002,9.2875 C14.7208335,8.90416667 15.2958335,8.90416667 15.6791669,9.2875 C16.0625002,9.67083333 16.0625002,10.2458333 15.6791669,10.6291667 L11.8458335,14.4625 C11.6541669,14.6541667 11.4145835,14.75 11.1750002,14.75 Z" fill="#000000" />
                                        </g>
                                    </svg><!--end::Svg Icon-->
                                </span>
                            }
                            else
                            {
                                <span class="svg-icon svg-icon-warning svg-icon-2x" data-container="body" data-toggle="tooltip" data-placement="right" title="Oczekuje na weryfikacje">
                                    <!--begin::Svg Icon | path:C:\wamp64\www\keenthemes\themes\metronic\theme\html\demo6\dist/../src/media/svg/icons\General\Shield-protected.svg--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="24px" height="24px" viewBox="0 0 24 24" version="1.1">
                                        <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
                                            <rect x="0" y="0" width="24" height="24" />
                                            <path d="M4,4 L11.6314229,2.5691082 C11.8750185,2.52343403 12.1249815,2.52343403 12.3685771,2.5691082 L20,4 L20,13.2830094 C20,16.2173861 18.4883464,18.9447835 16,20.5 L12.5299989,22.6687507 C12.2057287,22.8714196 11.7942713,22.8714196 11.4700011,22.6687507 L8,20.5 C5.51165358,18.9447835 4,16.2173861 4,13.2830094 L4,4 Z" fill="#000000" opacity="0.3" />
                                            <path d="M14.5,11 C15.0522847,11 15.5,11.4477153 15.5,12 L15.5,15 C15.5,15.5522847 15.0522847,16 14.5,16 L9.5,16 C8.94771525,16 8.5,15.5522847 8.5,15 L8.5,12 C8.5,11.4477153 8.94771525,11 9.5,11 L9.5,10.5 C9.5,9.11928813 10.6192881,8 12,8 C13.3807119,8 14.5,9.11928813 14.5,10.5 L14.5,11 Z M12,9 C11.1715729,9 10.5,9.67157288 10.5,10.5 L10.5,11 L13.5,11 L13.5,10.5 C13.5,9.67157288 12.8284271,9 12,9 Z" fill="#000000" />
                                        </g>
                                    </svg><!--end::Svg Icon-->
                                </span>
                            }
                        }
                        else
                        {
                            @Model.ProjectName <i class="flaticon2-cross text-danger icon-md ml-2"></i>
                        }

                    </a>
                    <span class="text-muted font-weight-bold">
                        @Model.Adress
                    </span>
                    <!--end::Title-->
                </div>
                <!--end::Info-->
                <!--begin::Toolbar-->
                <div class="card-toolbar mb-auto">
                    <div class="dropdown dropdown-inline" data-toggle="tooltip" title="Szybkie akcje" data-placement="left">
                        <a href="#" class="btn btn-clean btn-hover-light-primary btn-sm btn-icon" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                            <i class="ki ki-bold-more-hor"></i>
                        </a>
                        <div class="dropdown-menu dropdown-menu-sm dropdown-menu-right">
                            <!--begin::Navigation-->
                            <ul class="navi navi-hover">

                                <li class="navi-item">
                                    <a asp-controller="Projects" asp-action="Details" asp-route-id="@Model.IdProject" class="navi-link">
                                        <span class="navi-icon"><i class="flaticon-more-v4"></i></span>
                                        <span class="navi-text">Umieść</span>
                                    </a>
                                </li>
                                <li class="navi-item">
                                    <a href="#" onclick="editProject(@Model.IdProject)" class="navi-link" data-toggle="modal"
                                       data-target="#editModal">
                                        <span class="navi-icon"><i class="flaticon-edit-1"></i></span>
                                        <span class="navi-text">Edycja</span>
                                    </a>
                                </li>
                                @if (Model.IsActive == true)
                                {
                                    <li class="navi-item">
                                        <a href="#" onclick="setInactive('@Model.IdProject')" class="navi-link">
                                            <span class="navi-icon"><i class="flaticon2-cross"></i></span>
                                            <span class="navi-text">Deaktywuj</span>
                                        </a>
                                    </li>
                                }

                                <li class="navi-item">
                                    <a href="#" onclick="deleteItem('Projects','@Model.IdProject')" class="navi-link">
                                        <span class="navi-icon"><i class="flaticon-delete"></i></span>
                                        <span class="navi-text">Usuń</span>
                                    </a>
                                </li>
                            </ul>
                            <!--end::Navigation-->
                        </div>
                    </div>
                </div>
                <!--end::Toolbar-->
            </div>
            <!--end::Section-->
            <!--begin::Content-->
            <div class="d-flex flex-wrap mt-14">
                <div class="mr-12 d-flex flex-column mb-7">
                    <span class="d-block font-weight-bold mb-4">
                        Konfigurator
                    </span>
                    <span class="btn btn-light-primary btn-sm font-weight-bold btn-upper btn-text">14 Jan, 16</span>
                </div>
                <div class="mr-12 d-flex flex-column mb-7">
                    <span class="d-block font-weight-bold mb-4">
                        Due Date
                    </span>
                    <span class="btn btn-light-danger btn-sm font-weight-bold btn-upper btn-text">21 Nov, 18</span>
                </div>
                <!--begin::Progress-->
                <div class="flex-row-fluid mb-7">
                    <span class="d-block font-weight-bold mb-4">Wolnych mieszkań</span>
                    <div class="d-flex align-items-center pt-2">
                        <div class="progress progress-xs mt-2 mb-2 w-100">
                            <div class="progress-bar bg-warning" role="progressbar" style="width: 78%;" aria-valuenow="50" aria-valuemin="0" aria-valuemax="100"></div>
                        </div>
                        <span class="ml-3 font-weight-bolder">78%</span>
                    </div>
                </div>
                <!--end::Progress-->
            </div>
            <!--end::Content-->
            <!--begin::Text-->
            <p class="mb-7 mt-3 text-justify">
                @if (Model.ProjectDescription.Length >= 144)
                {
                    @Model.ProjectDescription.Substring(0, 144)
                }
                else
                {
                    @Model.ProjectDescription
                }
                ...
            </p>
            <!--end::Text-->
            <!--begin::Blog-->
            <div class="d-flex align-items-center flex-wrap">

                <!--begin: Item-->
                <div class="d-flex align-items-center flex-lg-fill mr-5 my-1">
                    <span class="mr-4">
                        <i class="flaticon-pie-chart icon-2x text-muted font-weight-bold"></i>
                    </span>
                    <div class="d-flex flex-column text-dark-75">
                        <span class="font-weight-bolder font-size-sm">Wyświetleń</span>
                        <span class="font-weight-bolder font-size-h5">@Model.Views</span>

                    </div>
                </div>
                <!--end: Item-->
                <!--begin: Item-->
                <div class="d-flex align-items-center flex-lg-fill mr-5 my-1">
                    <span class="mr-4">
                        <i class="flaticon-users icon-2x text-muted font-weight-bold"></i>
                    </span>
                    <div class="d-flex flex-column text-dark-75">
                        <span class="font-weight-bolder font-size-sm">Unikalnych wyświetleń</span>
                        <span class="font-weight-bolder font-size-h5">@Model.UViews</span>

                    </div>
                </div>
                <!--end: Item-->
                <!--begin: Item-->
                <div class="d-flex align-items-center flex-lg-fill mr-5 my-1">
                    <span class="mr-4">
                        <i class="flaticon-cogwheel-1 icon-2x text-muted font-weight-bold"></i>
                    </span>
                    <div class="d-flex flex-column text-dark-75">
                        <span class="font-weight-bolder font-size-sm">Konfiguracji</span>
                        <span class="font-weight-bolder font-size-h5">@Model.TotalConfiguration</span>

                    </div>
                </div>
                <!--end: Item-->


            </div>
            <!--end::Blog-->
        </div>
        <!--end::Body-->
        <!--begin::Footer-->
        <div class="card-footer d-flex align-items-center">
            <div class="d-flex">
                <div class="d-flex align-items-center mr-7">
                    <span class="svg-icon svg-icon-gray-500">
                        <!--begin::Svg Icon | path:~/~/assets/media/svg/icons/Text/Bullet-list.svg--><!--begin::Svg Icon | path:C:\wamp64\www\keenthemes\themes\metronic\theme\html\demo6\dist/../src/media/svg/icons\Home\Door-open.svg--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="24px" height="24px" viewBox="0 0 24 24" version="1.1">
                            <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
                                <rect opacity="0.300000012" x="0" y="0" width="24" height="24" />
                                <polygon fill="#000000" fill-rule="nonzero" opacity="0.3" points="7 4.89473684 7 21 5 21 5 3 11 3 11 4.89473684" />
                                <path d="M10.1782982,2.24743315 L18.1782982,3.6970464 C18.6540619,3.78325557 19,4.19751166 19,4.68102291 L19,19.3190064 C19,19.8025177 18.6540619,20.2167738 18.1782982,20.3029829 L10.1782982,21.7525962 C9.63486295,21.8510675 9.11449486,21.4903531 9.0160235,20.9469179 C9.00536265,20.8880837 9,20.8284119 9,20.7686197 L9,3.23140966 C9,2.67912491 9.44771525,2.23140966 10,2.23140966 C10.0597922,2.23140966 10.119464,2.2367723 10.1782982,2.24743315 Z M11.9166667,12.9060229 C12.6070226,12.9060229 13.1666667,12.2975724 13.1666667,11.5470105 C13.1666667,10.7964487 12.6070226,10.1879981 11.9166667,10.1879981 C11.2263107,10.1879981 10.6666667,10.7964487 10.6666667,11.5470105 C10.6666667,12.2975724 11.2263107,12.9060229 11.9166667,12.9060229 Z" fill="#000000" />
                            </g>
                        </svg><!--end::Svg Icon-->
                    </span>                        <a asp-controller="Apartment" asp-action="List" asp-route-id="@Model.IdProject" class="font-weight-bolder text-primary ml-2">@Model.ApartmentNumber Apartamenty</a>
                </div>
                <div class="d-flex align-items-center   mr-7">
                    <span class="svg-icon svg-icon-gray-500">
                        <!--begin::Svg Icon | path:C:\wamp64\www\keenthemes\themes\metronic\theme\html\demo6\dist/../src/media/svg/icons\Code\Compiling.svg--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="24px" height="24px" viewBox="0 0 24 24" version="1.1">
                            <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
                                <rect x="0" y="0" width="24" height="24" />
                                <path d="M2.56066017,10.6819805 L4.68198052,8.56066017 C5.26776695,7.97487373 6.21751442,7.97487373 6.80330086,8.56066017 L8.9246212,10.6819805 C9.51040764,11.267767 9.51040764,12.2175144 8.9246212,12.8033009 L6.80330086,14.9246212 C6.21751442,15.5104076 5.26776695,15.5104076 4.68198052,14.9246212 L2.56066017,12.8033009 C1.97487373,12.2175144 1.97487373,11.267767 2.56066017,10.6819805 Z M14.5606602,10.6819805 L16.6819805,8.56066017 C17.267767,7.97487373 18.2175144,7.97487373 18.8033009,8.56066017 L20.9246212,10.6819805 C21.5104076,11.267767 21.5104076,12.2175144 20.9246212,12.8033009 L18.8033009,14.9246212 C18.2175144,15.5104076 17.267767,15.5104076 16.6819805,14.9246212 L14.5606602,12.8033009 C13.9748737,12.2175144 13.9748737,11.267767 14.5606602,10.6819805 Z" fill="#000000" opacity="0.3" />
                                <path d="M8.56066017,16.6819805 L10.6819805,14.5606602 C11.267767,13.9748737 12.2175144,13.9748737 12.8033009,14.5606602 L14.9246212,16.6819805 C15.5104076,17.267767 15.5104076,18.2175144 14.9246212,18.8033009 L12.8033009,20.9246212 C12.2175144,21.5104076 11.267767,21.5104076 10.6819805,20.9246212 L8.56066017,18.8033009 C7.97487373,18.2175144 7.97487373,17.267767 8.56066017,16.6819805 Z M8.56066017,4.68198052 L10.6819805,2.56066017 C11.267767,1.97487373 12.2175144,1.97487373 12.8033009,2.56066017 L14.9246212,4.68198052 C15.5104076,5.26776695 15.5104076,6.21751442 14.9246212,6.80330086 L12.8033009,8.9246212 C12.2175144,9.51040764 11.267767,9.51040764 10.6819805,8.9246212 L8.56066017,6.80330086 C7.97487373,6.21751442 7.97487373,5.26776695 8.56066017,4.68198052 Z" fill="#000000" />
                            </g>
                        </svg><!--end::Svg Icon-->
                    </span>                        <a href="#" class="font-weight-bolder text-primary ml-2">@Model.ApartmentOptionsNumber wariantów</a>
                </div>
            </div>
            @if (Model.IsActive == true)
            {
                <button type="button" class="btn btn-primary btn-sm text-uppercase font-weight-bolder mt-5 mt-sm-0 mr-auto mr-sm-0 ml-sm-auto">
                    <a asp-controller="Projects" asp-action="Details" asp-route-id="@Model.IdProject">
                        <span style="color:white">ZOBACZ</span>
                    </a>
                </button>
            }
            else
            {
                <button type="button" class="btn btn-success btn-sm text-uppercase font-weight-bolder mt-5 mt-sm-0 mr-auto mr-sm-0 ml-sm-auto">
                    <a onclick="setActive('@Model.IdProject')">
                        <span style="color:white">AKTYWUJ</span>
                    </a>
                </button>
            }




        </div>
        <!--end::Footer-->
    </div>
    <!--end::Card-->
</div>